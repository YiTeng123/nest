var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},__extends=function(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},__decorate=function(e,t,n,r){var o,i=arguments.length,a=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(3>i?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param=function(e,t){return function(n,r){t(n,r,e)}},__metadata=function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},__awaiter=function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},__generator=function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=2&n[0]?i["return"]:n[0]?i["throw"]||((a=i["return"])&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,i=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(r){n=[6,r],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},__exportStar=function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||__createBinding(t,e,n)},__createBinding=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e},__spreadArrays=function(){for(var e=0,t=0,n=arguments.length;n>t;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;n>t;t++)for(var i=arguments[t],a=0,s=i.length;s>a;a++,o++)r[o]=i[a];return r},__await=function(e){return this instanceof __await?(this.v=e,this):new __await(e)},__asyncGenerator=function(e,t,n){function r(e){l[e]&&(u[e]=function(t){return new Promise(function(n,r){h.push([e,t,n,r])>1||o(e,t)})})}function o(e,t){try{i(l[e](t))}catch(n){c(h[0][3],n)}}function i(e){e.value instanceof __await?Promise.resolve(e.value.v).then(a,s):c(h[0][2],e)}function a(e){o("next",e)}function s(e){o("throw",e)}function c(e,t){e(t),h.shift(),h.length&&o(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,l=n.apply(e,t||[]),h=[];return u={},r("next"),r("throw"),r("return"),u[Symbol.asyncIterator]=function(){return this},u},__asyncDelegator=function(e){function t(t,o){n[t]=e[t]?function(n){return(r=!r)?{value:__await(e[t](n)),done:"return"===t}:o?o(n):n}:o}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n},__asyncValues=function(e){function t(t){r[t]=e[t]&&function(r){return new Promise(function(o,i){r=e[t](r),n(o,i,r.done,r.value)})}}function n(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=e[Symbol.asyncIterator];return o?o.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r)},__makeTemplateObject=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&__createBinding(t,e,n);return __setModuleDefault(t,e),t},__importDefault=function(e){return e&&e.__esModule?e:{"default":e}},__classPrivateFieldGet=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},__reflect=function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n};!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){n(1),n(2),n(0),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40);var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return gamebase.XGame.SetupEngine(),[4,this.loadResource()];case 1:return t.sent(),this.createGameScene(),[4,platform.getUserInfo()];case 2:return e=t.sent(),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return n.sent(),[4,RES.loadGroup("loading")];case 2:return n.sent(),e=new LoadingUI(this.stage.stageWidth,this.stage.stageHeight),this.stage.addChild(e),[4,this.loadTheme()];case 3:return n.sent(),[4,RES.loadGroup("preload",0,e)];case 4:return n.sent(),this.stage.removeChild(e),[3,6];case 5:return t=n.sent(),console.error(t),[3,6];case 6:return[2]}})})},t.prototype.loadTheme=function(){var e=this;return new Promise(function(t,n){var r=new eui.Theme("resource/default.thm.json",e.stage);r.addEventListener(eui.UIEvent.COMPLETE,function(e){t(e)},e)})},t.prototype.createGameScene=function(){gamebase.XGame.SceneMgr.rootLayer=this,gamebase.XGame.SceneMgr.ToScene(new memoriesofpast.StartScene,{help:!0})},t}(eui.UILayer);window.Main=r,__reflect(r.prototype,"Main",[])},function(e,t){var n=function(){function e(){}return e.prototype.getAsset=function(e,t,n){function r(r){t.call(n,r,e)}if(RES.hasRes(e)){var o=RES.getRes(e);o?r(o):RES.getResAsync(e,r,this)}else RES.getResByUrl(e,r,this,RES.ResourceItem.TYPE_IMAGE)},e}();window.AssetAdapter=n,__reflect(n.prototype,"AssetAdapter",["eui.IAssetAdapter"])},function(e,t){var n=function(e){function t(t,n){var r=e.call(this)||this;return r.width=t,r.height=n,r.createView(),r}return __extends(t,e),t.prototype.createView=function(){var e=this.createBitmapByName("shanpan_qietu_png");this.height>1560&&(e.height=this.height,e.width=this.height/(1560/720)),e.anchorOffsetX=e.width/2,e.x=this.width/2,e.y=this.height-e.height,this.addChild(e);var t=this.createBitmapByName("naoli_dihui_png");this.addChild(t),t.width=646,t.height=5,t.x=(this.width-t.width)/2,t.y=(this.height-t.height)/2+100,this.progress_img=this.createBitmapByName("naoli_guang_png"),this.addChild(this.progress_img),this.progress_img.scale9Grid=new egret.Rectangle(36,2,36,1),this.progress_img.width=50,this.progress_img.height=5,this.progress_img.x=t.x,this.progress_img.y=(this.height-this.progress_img.height)/2+100;var n=new egret.TextField;n.textColor=10277102,n.textAlign="center",n.text="加载中，若长时间未进入，请选择菜单重新进入小程序..",n.size=20,n.width=this.width,n.x=0,n.y=(this.height-this.progress_img.height)/2+120,this.addChild(n)},t.prototype.onProgress=function(e,t,n){this.progress_img.width=646*(e/t)},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,n=RES.getRes(e);return t.texture=n,t},t}(egret.Sprite);window.LoadingUI=n,__reflect(n.prototype,"LoadingUI",["RES.PromiseTaskReporter"])},function(e,t){var n=function(){function e(){}return e.prototype.login=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{account:"test2@163.com",password:"123456"}]})})},e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.setUserCloudStorage=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.shareAppMessage=function(){},e.prototype.getLocation=function(){},e.prototype.createUserInfoButton=function(){},e.prototype.destroyUserInfoButton=function(){},e}();window.DebugPlatform=n,__reflect(n.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new n)},function(e,t){var n=function(){function e(){}return e.prototype.getTheme=function(e,t,n,r){function o(e){t.call(r,e)}function i(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),n.call(r))}var a=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(r,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,n){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(r,generateEUI2)},a)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var s=e.split("/");s.pop();var c=s.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(r,generateJSON.paths[e])},this):RES.getResByUrl(c,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){t.call(r,generateJSON.paths[e])},a)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(r,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_TEXT)},e}();window.ThemeAdapter=n,__reflect(n.prototype,"ThemeAdapter",["eui.IThemeAdapter"])},function(e,t){var n,n=window.gamebase;!function(e){var t=function(){function t(){}return t.SetupEngine=function(){this.EventMgr=new e.EventManager,this.DataMgr=new e.DataManager,this.SceneMgr=new e.SceneManager,this.SoundMgr=new e.SoundManager},t}();e.XGame=t,__reflect(t.prototype,"gamebase.XGame",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){e.DimenEnum={A:{name:"记忆力",nameen:"MemoryPower",icon1:"zjm_rk_icon2_png",icon2:"yx_icon_xxl_png"},B:{name:"专注力",nameen:"AbsorbedPower",icon1:"zjm_rk_icon5_png",icon2:"yx_icon_gcl_png"},C:{name:"敏捷力",nameen:"AgilityPower",icon1:"zjm_rk_icon4_png",icon2:"yx_icon_czl_png"},D:{name:"推理力",nameen:"ReasoningPower",icon1:"zjm_rk_icon3_png",icon2:"yx_icon_ljl_png"},E:{name:"空间力",nameen:"SpacePower",icon1:"zjm_rk_icon6_png",icon2:"yx_icon_kjl_png"},F:{name:"计算力",nameen:"CalculationPower",icon1:"zjm_rk_icon1_png",icon2:"yx_icon_jsl_png"}}}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){e.EventEnum={Ticker_Parse:"Ticker_Parse",Ticker_Resume:"Ticker_Resume",UI_Login:"UI_Login",UI_LoginSuc:"UI_LoginSuc",SYS_LoginSuc:"SYS_LoginSuc",UI_Settlement:"UI_Settlement",KeyBoard_KeyDown:"KeyBoard_KeyDown",UI_CloseGame:"UI_CloseGame",UI_GameGoon:"UI_GameGoon",UI_BacktoHall:"UI_BacktoHall",UI_SaveArenaSuccess:"UI_SaveArenaSuccess"}}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){e.DifficultyLevel={General:{Lv:0,Name:"General",Desc:"L1"},Medium:{Lv:1,Name:"Medium",Desc:"L2"},Difficulty:{Lv:2,Name:"Difficulty",Desc:"L3"}}}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){e.PlayModeEnum={NormalMode:1,ChallengeMode:2}}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){e.ProtocolEnum={Login:"login",Settlement:"settlement",SaveArenaEsports:"savearena"}}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){e.SoundEnum={BGM:"bgm_mp3",BgMusic:"bg_mp3",Click:"clickbutton_mp3",OpenScene:"openwindow_mp3",Result:"result_mp3",Timer:"timer_mp3",WillEnd:"willend_mp3",Right:"right_mp3",Wrong:"wrong_mp3",Close:"closebutton_mp3",KeyNumber:"keynumber_mp3",ClickArena:"clickarena_mp3",IngameClick:"ingameclick_mp3"}}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(){function e(){this._data={},this.initData()}return e.prototype.initData=function(){this._data={baseinfo:{bgswitch:1,effectswitch:1,bgvol:1,effectvol:1},roledata:{uid:"",rid:"",rn:"",sex:0,hi:"",bd:"",rank:"",star:0,abp:0,agp:0,cp:0,mc:"0",mp:0,rp:0,sp:0,bp:0}}},Object.defineProperty(e.prototype,"baseinfo",{get:function(){return this._data.baseinfo},set:function(e){this._data.baseinfo=e,this.SaveData()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roledata",{get:function(){return this._data.roledata},set:function(e){this._data.roledata=e,this.SaveData()},enumerable:!1,configurable:!0}),e.prototype.SaveData=function(e){void 0===e&&(e=!1),egret.localStorage.setItem("global",JSON.stringify(this._data))},e}();e.DataManager=t,__reflect(t.prototype,"gamebase.DataManager",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(egret.EventDispatcher);e.EventManager=t,__reflect(t.prototype,"gamebase.EventManager",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(){function e(){this._sceneArray=[],this.MaxIndex=0}return e.prototype.ToScene=function(e,t){void 0===t&&(t=null),null!=t&&e.updateData(t);for(var n=0;n<this._sceneArray.length;n++)this.rootLayer.removeChild(this._sceneArray[n]);this._sceneArray.length=0,this._sceneArray.push(e),this.rootLayer.addChild(e),this.MaxIndex=e.zIndex,e.width=e.stage.stageWidth,e.height=e.stage.stageHeight,this.currentScene=e},e.prototype.OpenScene=function(e,t){void 0===t&&(t=null),null!=t&&e.updateData(t),this.rootLayer.addChild(e),e.width=e.stage.stageWidth,e.height=e.stage.stageHeight,this.MaxIndex=e.zIndex,this._sceneArray.push(e),this.currentScene=e},e.prototype.CloseScene=function(e){var t=this._sceneArray.lastIndexOf(e);t>=0&&null!=e&&(this.rootLayer.removeChild(e),this._sceneArray.splice(t,1))},e.prototype.CloseSceneByName=function(e){var t=this.FindScene(e);this.CloseScene(t)},e.prototype.FindScene=function(e){for(var t=this._sceneArray.length-1;t>=0;t--){var n=this._sceneArray[t];if(n.SceneName==e)return n}return null},e.prototype.SetTop=function(e){var t=this.FindScene(e);t&&(t.zIndex=this.MaxIndex+1)},e.prototype.openUniqueScene=function(e,t){var n=this.FindScene(e.SceneName);return n?(null!=t&&n.updateData(t),n.zIndex=this.MaxIndex+1,void(this.currentScene=e)):void this.OpenScene(e,t)},e}();e.SceneManager=t,__reflect(t.prototype,"gamebase.SceneManager",[]);var n=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(eui.UIEvent.CREATION_COMPLETE,t.onComplete,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveFromStage,t),t}return __extends(t,e),t}(eui.Component);e.Scene=n,__reflect(n.prototype,"gamebase.Scene",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(){function t(){}return t.prototype.onEffectComplete=function(t){this.curEffectSource==e.SoundEnum.WillEnd&&(this.curEffectSource="")},t.prototype.PlayBgMusic=function(t){this.BgSoundChannel&&this.BgSoundChannel.stop(),1==e.XGame.DataMgr.baseinfo.bgswitch&&(this.BgSound=RES.getRes(t),this.BgSoundChannel=this.BgSound.play(),this.BgSoundChannel.volume=e.XGame.DataMgr.baseinfo.bgvol)},t.prototype.StopBgMusic=function(){this.BgSoundChannel&&this.BgSoundChannel.stop()},t.prototype.StopEffectMusic=function(){this.EffectSoundChannel&&this.EffectSoundChannel.stop(),this.curEffectSource==e.SoundEnum.WillEnd&&(this.curEffectSource="")},t.prototype.PlayEffect=function(t){this.EffectSoundChannel&&this.curEffectSource!=e.SoundEnum.WillEnd&&this.EffectSoundChannel.stop(),1==e.XGame.DataMgr.baseinfo.effectswitch&&this.curEffectSource!=e.SoundEnum.WillEnd&&(this.EffectSound=RES.getRes(t),this.curEffectSource=t,this.EffectSoundChannel=this.EffectSound.play(0,1),this.EffectSoundChannel.volume=e.XGame.DataMgr.baseinfo.effectvol,this.EffectSoundChannel.once(egret.Event.SOUND_COMPLETE,this.onEffectComplete,this))},t}();e.SoundManager=t,__reflect(t.prototype,"gamebase.SoundManager",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(){function e(){}return e}();e.Protocal=t,__reflect(t.prototype,"gamebase.Protocal",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(t){function n(e){var n=t.call(this)||this;return n.SceneName="GameHelpSkin",n.gameName="",n.gameDesc="",n.guideIndex=0,n.autoSecond=5,n.currSecond=5,n.currMillisecond=1e3,n.printLog=!0,n.gameId=e,n.skinName="resource/eui_skins/global/GameHelpSkin.exml",n}return __extends(n,t),n.prototype.onComplete=function(){var e=this;this.img_tip.visible=!1,this.gp_desccontainer.visible=!1,this.gp_loading.visible=!0,this.img_prevstep=this.gp_prevstep.getChildAt(0),this.img_nextstep=this.gp_nextstep.getChildAt(0),this.img_prevstep.visible=!1,this.img_nextstep.visible=!1,this.autoTimer=new egret.Timer(20,1e3*this.autoSecond/20),this.timerSecondLabel.text=this.autoSecond-1+".00",this.autoTimerInit();var t=RES.getRes("newbieguide_json"),n=Object.keys(t),r=n.find(function(t){return t.split("_")[0].toString()===""+e.gameId});if(!r)throw Error("未能找到游戏ID ["+this.gameId+"] 的配置信息");for(var o in t){var i=t[o];this.printLog&&console.log(o.substr(o.lastIndexOf("_")+1)+"\n"),this.printLog&&console.log(i.map(function(e){return e.Desc}).join("\n")),this.printLog&&console.log("\n")}var a=r.split("_");if(this.gameName=a[1],this.gameDesc=a[2],this.gameGuide=t[r],!this.gameGuide)throw Error("加载游戏ID ["+this.gameId+"] 新手指南失败");this.lbl_gamename.text=this.gameDesc+" - 游戏演示",RES.loadGroup("guide").then(function(){e.gp_loading.parent.removeChild(e.gp_loading),e.img_prevstep.filters=[e.getColorFilter()],e.img_nextstep.filters=[],e.img_tip.visible=!0,e.img_prevstep.visible=!0,e.img_nextstep.visible=!0,e.gp_desccontainer.visible=!0,e.lbl_desc.text="";for(var t=0;t<e.gameGuide.length;t++){var n=e.gameGuide[t];n.Source=n.Source.replace(/(.*)\./,"$1_")}e.guideIndex===e.gameGuide.length-1&&(e.img_nextstep.filters=[e.getColorFilter()]),e.loadStep(),e.img_close.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onCloseScene,e),e.gp_prevstep.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onPrevStep,e),e.gp_nextstep.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onNextStep,e),e.autoTimer&&e.autoTimer.addEventListener(egret.TimerEvent.TIMER,e.onTimer_Answer,e),e.autoTimer&&e.autoTimer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,e.onTimerComplete_Answer,e)});var s=RES.getRes("loading_json"),c=RES.getRes("loading_png"),u=new egret.MovieClipDataFactory(s,c),l=new egret.MovieClip(u.generateMovieClipData("loading"));l.anchorOffsetX=153,l.anchorOffsetY=165,l.x=this.stage.stageWidth/2,l.y=this.stage.stageHeight/2,this.gp_loading.removeChildren(),this.gp_loading.addChild(l),l.gotoAndPlay("jump",-1)},n.prototype.onTimer_Answer=function(){this.currMillisecond<=0?(this.currSecond-=1,this.currSecond>0&&(this.currMillisecond=1e3)):this.currMillisecond-=20;var e=this.currSecond-1+"."+(this.currMillisecond/10+"").padStart(2,"0");this.printLog&&console.log("当前演示步骤剩余显示时间",e),this.timerSecondLabel.text=e},n.prototype.onTimerComplete_Answer=function(){this.currSecond=0,this.currMillisecond=0;var e="0.00";this.printLog&&console.log("当前演示步骤剩余显示时间",e),this.timerSecondLabel.text=e,this.guideIndex===this.gameGuide.length-1?this.onCloseScene():(this.autoTimerInit(),this.printLog&&console.log("切换到下一步"),this.onNextStep())},n.prototype.onRemoveFromStage=function(e){this.img_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseScene,this),this.gp_prevstep.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onPrevStep,this),this.gp_nextstep.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onNextStep,this),this.autoTimer&&this.autoTimer.removeEventListener(egret.TimerEvent.TIMER,this.onTimer_Answer,this),this.autoTimer&&this.autoTimer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerComplete_Answer,this)},n.prototype.autoTimerInit=function(){this.timerGroup.visible=!0,this.currSecond=this.autoSecond,this.currMillisecond=1e3,this.autoTimer.reset(),this.autoTimer.start()},n.prototype.updateData=function(e){this.printLog=e.printLog},n.prototype.onPrevStep=function(){0!==this.guideIndex&&(this.autoTimerInit(),this.img_nextstep.filters.length>0&&(this.img_nextstep.filters=[]),this.guideIndex--,0===this.guideIndex&&(this.img_prevstep.filters=[this.getColorFilter()]),this.loadStep())},n.prototype.onNextStep=function(){this.guideIndex!==this.gameGuide.length-1&&(this.autoTimerInit(),this.img_prevstep.filters.length>0&&(this.img_prevstep.filters=[]),this.guideIndex++,this.guideIndex===this.gameGuide.length-1&&(this.img_nextstep.filters=[this.getColorFilter()]),this.loadStep())},n.prototype.loadStep=function(){var e=this.gameGuide[this.guideIndex];this.lbl_desc.text=e.Desc,this.img_step.source=e.Source},n.prototype.getColorFilter=function(){var e=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],t=new egret.ColorMatrixFilter(e);return t},n.prototype.onCloseScene=function(){e.XGame.SceneMgr.CloseScene(this),RES.destroyRes(this.gameName)},n}(e.Scene);e.GameHelp=t,__reflect(t.prototype,"gamebase.GameHelp",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.gameName="",e.score=0,e.progressText="",e.progressCurrent=0,e.progressTotal=0,e.levelName="",e.levelMaxScore=0,e.addEventListener(eui.UIEvent.REMOVED_FROM_STAGE,e.onRemoveFromStage,e),e.skinName="resource/eui_skins/global/GameMenuSkin.exml",e}return __extends(n,t),n.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.init(),this.img_menu.addEventListener(egret.TouchEvent.TOUCH_TAP,this.CloseGame,this)},Object.defineProperty(n.prototype,"GameName",{get:function(){return this.gameName},set:function(e){this.gameName=e,this.lbl_gamename.text=this.GameName},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Score",{get:function(){return this.score},set:function(e){this.score=e,this.lbl_score.text=""+this.score},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"LevelMaxScore",{get:function(){return this.levelMaxScore},set:function(e){this.levelMaxScore=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ProgressText",{get:function(){return this.ProgressText},set:function(e){this.progressText=e,this.lbl_progress.text=this.progressText},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ProgressCurrent",{get:function(){return this.progressCurrent},set:function(e){this.progressCurrent=e,this.img_progress.width=this.progressCurrent/this.progressTotal*297},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ProgressTotal",{get:function(){return this.progressTotal},set:function(e){this.progressTotal=e,this.img_progress.width=this.progressCurrent/this.progressTotal*297},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"LevelName",{get:function(){return this.levelName},set:function(e){this.levelName=e,this.lbl_level.text=e},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.lbl_gamename.text=this.gameName,this.lbl_score.text=""+this.score,this.lbl_progress.text=this.progressText,this.lbl_level.text=this.levelName,this.img_progress.width=this.progressCurrent/this.progressTotal*297},n.prototype.AddScore=function(e,t,n){var r=this;this.score!=this.levelMaxScore&&(this.levelMaxScore>0&&this.score+e>this.levelMaxScore?this.score=this.levelMaxScore:this.score+=e,t?t.bind(n):(egret.Tween.removeTweens(this.lbl_addscore),this.lbl_addscore.text="+"+e.toFixed(2),this.lbl_addscore.alpha=1,this.lbl_addscore.visible=!0,this.lbl_addscore.y=150,egret.Tween.get(this.lbl_addscore).to({y:25,alpha:.5},500).call(function(){r.lbl_addscore.visible=!1,r.lbl_addscore.y=150,r.lbl_addscore.alpha=1},this)),this.lbl_score.text=""+this.score.toFixed(2))},n.prototype.SubtractScore=function(e,t,n){var r=this;0!=this.score&&(this.score-e<0?this.score=0:this.score-=e,t?t().bind(n):(egret.Tween.removeTweens(this.lbl_addscore),this.lbl_addscore.text="-"+e,this.lbl_addscore.alpha=1,this.lbl_addscore.visible=!0,this.lbl_addscore.y=150,egret.Tween.get(this.lbl_addscore).to({y:25,alpha:.5},500).call(function(){r.lbl_addscore.visible=!1,r.lbl_addscore.y=150,r.lbl_addscore.alpha=1},this)),this.lbl_score.text=""+this.score)},n.prototype.onRemoveFromStage=function(){egret.Tween.removeTweens(this.lbl_addscore)},n.prototype.CloseGame=function(){e.XGame.SceneMgr.ToScene(new memoriesofpast.StartScene,{help:!1})},n}(eui.Component);e.GameMenu=t,__reflect(t.prototype,"gamebase.GameMenu",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.SceneName="ResultScene",e.skinName="resource/eui_skins/global/ResultSceneSkin.exml",e}return __extends(n,t),n.prototype.onComplete=function(){this.initEvent(),egret.Tween.get(this.img_title).to({scaleX:1,scaleY:1},300),egret.Tween.get(this.gp_result).wait(300).to({horizontalCenter:0},300)},n.prototype.onRemoveFromStage=function(e){this.removeEvent()},n.prototype.updateData=function(e){this.param=e,this.UpdataView()},n.prototype.UpdataView=function(){this.lbl_score.text=this.param.score.toFixed(2)+" 分"},n.prototype.initEvent=function(){this.btn_goon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ContinueGame,this)},n.prototype.removeEvent=function(){this.btn_goon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ContinueGame,this)},n.prototype.ContinueGame=function(){e.XGame.SceneMgr.ToScene(new memoriesofpast.StartScene,{})},n}(e.Scene);e.ResultScene=t,__reflect(t.prototype,"gamebase.ResultScene",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(){function e(){}return e.PowerFilter=function(){var e=3394815,t=.7,n=50,r=50,o=4,i=3,a=!1,s=!1,c=new egret.GlowFilter(e,t,n,r,o,i,a,s);return c},e}();e.GrowFilters=t,__reflect(t.prototype,"gamebase.GrowFilters",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(){function e(){}return e.BetweenTwoPoint=function(e,t,n){var r=(t.y-e.y)/(t.x-e.x),o=Math.sin(Math.atan(r)),i=Math.cos(Math.atan(r)),a=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),s=new egret.Point;return e.x==t.x&&t.y<e.y?(s.x=e.x,s.y=e.y-n*a):e.x<t.x&&e.y>t.y?(s.x=e.x+i*n*a,s.y=e.y+o*n*a):e.x<t.x&&e.y>t.y?(s.x=e.x+n*a,s.y=e.y):e.x<t.x&&e.y<t.y?(s.x=e.x+i*n*a,s.y=e.y+o*n*a):e.x==t.x&&e.y<t.y?(s.x=e.x,s.y=e.y+n*a):e.x>t.x&&e.y<t.y?(s.x=e.x-i*n*a,s.y=e.y-o*n*a):e.x>t.x&&e.y==t.y?(s.x=e.x+i*n*a,s.y=e.y+o*n*a):e.x>t.x&&e.y>t.y&&(s.x=e.x-i*n*a,s.y=e.y-o*n*a),s},e}();e.MathBase=t,__reflect(t.prototype,"gamebase.MathBase",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(){function e(){this.pool={}}return e.prototype.pop=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];null==this.pool[e]&&(this.pool[e]=[]);var r=this.pool[e];if(r.length>0)return r.pop();var o,i=t.length,a=egret.getDefinitionByName(e);switch(i){case 0:o=new a;break;case 1:o=new a(t[0]);break;case 2:o=new a(t[0],t[1]);break;case 3:o=new a(t[0],t[1],t[2]);break;case 4:o=new a(t[0],t[1],t[2],t[3]);break;case 5:o=new a(t[0],t[1],t[2],t[3],t[4])}return o.className=e,o},e.prototype.push=function(e){var t=e.className;return null==this.pool[t]?void console.log("回收对象的数组不存在"):void this.pool[t].push(e)},e.prototype.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var o=[],i=0;t>i;i++)o.push(this.pop.apply(this,__spreadArrays([e],n)));for(i=0;t>i;i++)this.push(o.pop())},e.prototype.getLen=function(e){return this.pool[e]?this.pool[e].length:0},e.prototype.clear=function(e,t){void 0===t&&(t=null),this.pool[e]&&(t&&this.dealFun(e,t),this.pool[e]=null,delete this.pool[e])},e.prototype.dealFun=function(e,t){if(this.pool[e])for(var n=this.pool[e],r=n.length,o=0;r>o;o++)n[o][t]&&n[o][t]()},e}();e.objectPool=t,__reflect(t.prototype,"gamebase.objectPool",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(){function e(e){this.seed=e,this.seed||0==this.seed||(this.seed=(new Date).getTime())}return Object.defineProperty(e.prototype,"value",{get:function(){return this.range(0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"insideUnitCircle",{get:function(){var e=this.range(0,360),t=this.range(0,1),n=t*Math.cos(e*Math.PI/180),r=t*Math.sin(e*Math.PI/180);return new egret.Point(n,r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onUnitCircle",{get:function(){var e=this.range(0,360),t=Math.cos(e*Math.PI/180),n=Math.sin(e*Math.PI/180);
return new egret.Point(t,n)},enumerable:!1,configurable:!0}),e.prototype.range=function(e,t){this.seed||0==this.seed||(this.seed=(new Date).getTime()),t=t||1,e=e||0,this.seed=(9301*this.seed+49297)%233280;var n=this.seed/233280;return e+n*(t-e)},Object.defineProperty(e,"value",{get:function(){return this.range(0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"insideUnitCircle",{get:function(){var e=this.range(0,360),t=this.range(0,1),n=t*Math.cos(e*Math.PI/180),r=t*Math.sin(e*Math.PI/180);return new egret.Point(n,r)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"onUnitCircle",{get:function(){var e=this.range(0,360),t=Math.cos(e*Math.PI/180),n=Math.sin(e*Math.PI/180);return new egret.Point(t,n)},enumerable:!1,configurable:!0}),e.range=function(e,t){this.seed||0==this.seed||(this.seed=(new Date).getTime()),t=t||1,e=e||0,this.seed=(9301*this.seed+49297)%233280;var n=this.seed/233280;return e+n*(t-e)},e.GetArray=function(e,t,n){for(var r=new Array;r.length<n;){var o=Math.round(this.range(e,t));r.lastIndexOf(o)<0&&r.push(o)}return r},e.GetDiffenence=function(e,t,n){for(var r="";""==r||Number(r)==n;){var o=Math.round(this.range(e,t));r=o.toString()}return r},e}();e.Random=t,__reflect(t.prototype,"gamebase.Random",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.gamebase;!function(e){var t=function(){function e(){this.delta=2654435769}return e.getInstance=function(){return e.instance||(e.instance=new e,e.instance.initInstance()),this.instance},e.prototype.initInstance=function(){},e.prototype.toUint8Array=function(e,t){var n=e.length,r=n<<2;if(t){var o=e[n-1];if(r-=4,r-3>o||o>r)return null;r=o}for(var i=new Uint8Array(r),a=0;r>a;++a)i[a]=e[a>>2]>>((3&a)<<3);return i},e.prototype.toUint32Array=function(e,t){var n=e.length,r=n>>2;0!==(3&n)&&++r;var o;t?(o=new Uint32Array(r+1),o[r]=n):o=new Uint32Array(r);for(var i=0;n>i;++i)o[i>>2]|=e[i]<<((3&i)<<3);return o},e.prototype.mx=function(e,t,n,r,o,i){return(n>>>5^t<<2)+(t>>>3^n<<4)^(e^t)+(i[3&r^o]^n)},e.prototype.fixk=function(e){if(e.length<16){var t=new Uint8Array(16);t.set(e),e=t}return e},e.prototype.encryptUint32Array=function(e,t){var n,r,o,i,a,s,c=e.length,u=c-1;for(r=e[u],o=0,s=0|Math.floor(6+52/c);s>0;--s){for(o+=this.delta,i=o>>>2&3,a=0;u>a;++a)n=e[a+1],r=e[a]+=this.mx(o,n,r,a,i,t);n=e[0],r=e[u]+=this.mx(o,n,r,a,i,t)}return e},e.prototype.decryptUint32Array=function(e,t){var n,r,o,i,a,s,c=e.length,u=c-1;for(n=e[0],s=Math.floor(6+52/c),o=s*this.delta;0!==o;o-=this.delta){for(i=o>>>2&3,a=u;a>0;--a)r=e[a-1],n=e[a]-=this.mx(o,n,r,a,i,t);r=e[u],n=e[0]-=this.mx(o,n,r,a,i,t)}return e},e.prototype.toBytes=function(e){for(var t=e.length,n=new Uint8Array(3*t),r=0,o=0;t>o;o++){var i=e.charCodeAt(o);if(128>i)n[r++]=i;else if(2048>i)n[r++]=192|i>>6,n[r++]=128|63&i;else{if(!(55296>i||i>57343)){if(t>o+1){var a=e.charCodeAt(o+1);if(56320>i&&a>=56320&&57343>=a){var s=((1023&i)<<10|1023&a)+65536;n[r++]=240|s>>18,n[r++]=128|s>>12&63,n[r++]=128|s>>6&63,n[r++]=128|63&s,o++;continue}}throw new Error("Malformed string")}n[r++]=224|i>>12,n[r++]=128|i>>6&63,n[r++]=128|63&i}}return n.subarray(0,r)},e.prototype.toShortString=function(e,t){for(var n=new Uint16Array(t),r=0,o=0,i=e.length;t>r&&i>o;r++){var a=e[o++];switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n[r]=a;break;case 12:case 13:if(!(i>o))throw new Error("Unfinished UTF-8 octet sequence");n[r]=(31&a)<<6|63&e[o++];break;case 14:if(!(i>o+1))throw new Error("Unfinished UTF-8 octet sequence");n[r]=(15&a)<<12|(63&e[o++])<<6|63&e[o++];break;case 15:if(!(i>o+2))throw new Error("Unfinished UTF-8 octet sequence");var s=((7&a)<<18|(63&e[o++])<<12|(63&e[o++])<<6|63&e[o++])-65536;if(!(s>=0&&1048575>=s))throw new Error("Character outside valid Unicode range: 0x"+s.toString(16));n[r++]=s>>10&1023|55296,n[r]=1023&s|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+a.toString(16))}}return t>r&&(n=n.subarray(0,r)),String.fromCharCode.apply(String,n)},e.prototype.toLongString=function(e,t){for(var n=[],r=new Uint16Array(65535),o=0,i=0,a=e.length;t>o&&a>i;o++){var s=e[i++];switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r[o]=s;break;case 12:case 13:if(!(a>i))throw new Error("Unfinished UTF-8 octet sequence");r[o]=(31&s)<<6|63&e[i++];break;case 14:if(!(a>i+1))throw new Error("Unfinished UTF-8 octet sequence");r[o]=(15&s)<<12|(63&e[i++])<<6|63&e[i++];break;case 15:if(!(a>i+2))throw new Error("Unfinished UTF-8 octet sequence");var c=((7&s)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;if(!(c>=0&&1048575>=c))throw new Error("Character outside valid Unicode range: 0x"+c.toString(16));r[o++]=c>>10&1023|55296,r[o]=1023&c|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+s.toString(16))}if(o>=65534){var u=o+1;n.push(String.fromCharCode.apply(String,r.subarray(0,u))),t-=u,o=-1}}return o>0&&n.push(String.fromCharCode.apply(String,r.subarray(0,o))),n.join("")},e.prototype.toString=function(e){var t=e.length;return 0===t?"":1e5>t?this.toShortString(e,t):this.toLongString(e,t)},e.prototype.encrypt=function(e,t){return"string"==typeof e&&(e=this.toBytes(e)),"string"==typeof t&&(t=this.toBytes(t)),void 0===e||null===e||0===e.length?e:this.toUint8Array(this.encryptUint32Array(this.toUint32Array(e,!0),this.toUint32Array(this.fixk(t),!1)),!1)},e.prototype.encryptToString=function(e,t){return this.encrypt(e,t).toString("base64")},e.prototype.decrypt=function(e,t){return"string"==typeof e&&(e=e.toString()),"string"==typeof t&&(t=this.toBytes(t)),void 0===e||null===e||0===e.length?e:this.toUint8Array(this.decryptUint32Array(this.toUint32Array(e,!1),this.toUint32Array(this.fixk(t),!1)),!0)},e.prototype.decryptToString=function(e,t){return this.toString(this.decrypt(e,t))},e}();e.xxtea=t,__reflect(t.prototype,"gamebase.xxtea",[])}(n||(n={})),window.gamebase=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(){function t(){}return t.SetupEngine=function(){this.DataMgr=new e.DataManager},t}();e.XGame=t,__reflect(t.prototype,"memoriesofpast.XGame",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){e.GameConst={DataKey:"memoriesofpast",ResEncryptKey:"H6^ytzol*862#ajx"}}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){e.GetValueTypeEnum={None:-1,Random:0,GivenRange:1}}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){e.OptionTypeEnum={None:-1,Answer:0,Disturb:1}}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(){function t(){this._data={},this.initData()}return t.prototype.initData=function(){this._data={}},t.prototype.SaveData=function(t){void 0===t&&(t=!1),egret.localStorage.setItem(e.GameConst.DataKey,JSON.stringify(this._data))},t}();e.DataManager=t,__reflect(t.prototype,"memoriesofpast.DataManager",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(){function t(e){void 0===e&&(e=!1),this.allColors=[],this.allShapes=[],this.Question=null,this.allAnswerHistory=[],this.answerHistory=[],this.printLog=!0,this.printLog=e,this.initData()}return t.prototype.initData=function(){var e=RES.getRes("memoriesofpast.config_json");this.printLog&&console.log("%c配置数据","color: blue",e),this.allColors=e.Colors,this.mainColor=e.MainColor,this.allShapes=e.Shapes.map(function(e){return e.Source=e.Source.replace(/(.*)\./,"$1_"),e})},t.prototype.updateConfig=function(e){this.cfg=e},t.prototype.GetFirstShape=function(){var t=this;if(!this.allShapes.length)throw new Error("未定义形状");var n=this.allShapes.filter(function(e){return e.Group===t.cfg.LevelIndex+1}),r=n.filter(function(e){return e.Color===t.mainColor});this.Question=new e.Question;var o=e.ArrayHelper.GetRandomElement(r);this.Question.CurrShape=o},t.prototype.GenerateQuestion=function(t){var n=this;if(this.printLog&&console.log("\n"),!this.allShapes.length)throw new Error("未定义形状");this.Question.PrevShape=this.Question.CurrShape;var r=this.GetGroupShapes(),o=r.filter(function(e){return e.Color===n.mainColor}),i=e.common.getIntRandom(1,100);this.Question.Answer=i>50;var a;if(this.Question.Answer)a=this.Question.PrevShape;else{var s=e.common.getIntRandom(1,100);if(this.printLog&&console.log("%c加入干扰的概率值","color: blue",s),s>80){var c=r.filter(function(e){return e.Color!==n.mainColor});a=e.ArrayHelper.GetRandomElement(c)}else a=e.ArrayHelper.GetRandomElement(o.filter(function(e){return e.Source!==n.Question.PrevShape.Source}))}if(a.Rotation=0,this.cfg.EnableStaticRotate){var u=e.common.getIntRandom(50,100);if(this.printLog&&console.log("%c旋转概率值","color: blue",u),u>80&&a.Color===this.mainColor&&a.RotationCfg)switch(a.RotationCfg.GetValueType){case e.GetValueTypeEnum.Random:var l=Array.from(new Array(35),function(e,t){return 10*(t+1)});a.Rotation=e.ArrayHelper.GetRandomElement(l);break;case e.GetValueTypeEnum.GivenRange:a.RotationCfg.Range&&(a.Rotation=e.ArrayHelper.GetRandomElement(a.RotationCfg.Range))}}this.Question.CurrShape=a,this.printLog&&console.log("%c题目数据","color: blue","概率值(大于50为是)："+i+"，上一个图形："+this.Question.PrevShape.Source+"，当前图形："+this.Question.CurrShape.Source),this.printLog&&console.log("%c题目答案","color: green",this.Question.Answer?"是":"否")},t.prototype.CheckAnswer=function(e){return this.Question.Answer===e},t.prototype.GetGroupShapes=function(){var e=this,t=this.allShapes.filter(function(t){return t.Group===e.cfg.LevelIndex+1});return t},t}();e.LogicManager=t,__reflect(t.prototype,"memoriesofpast.LogicManager",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(){function e(){this.Id="",this.Source="",this.Desc="",this.GridIndex=-1}return e}();e.Card=t,__reflect(t.prototype,"memoriesofpast.Card",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(){function e(){this.CarouselCount=10,this.AnswerSecond=3,this.SingleScore=10,this.MaxScore=9999,this.EnableStaticRotate=!1,this.EnableDynamicRotate=!1,this.EnableFlipHorizontal=!1}return e}();e.Level=t,__reflect(t.prototype,"memoriesofpast.Level",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(){function e(){this.PrevShape=null,this.CurrShape=null,this.Answer=null}return e}();e.Question=t,__reflect(t.prototype,"memoriesofpast.Question",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(){function e(e,t){this.Success=!1,this.Msg="error",this.Success=e,this.Msg=t}return e}();e.Result=t,__reflect(t.prototype,"memoriesofpast.Result",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(){function t(){this.GetValueType=e.GetValueTypeEnum.None,this.Range=[]}return t}();e.RotationConfig=t,__reflect(t.prototype,"memoriesofpast.RotationConfig",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(){function t(){this.Color="",this.Source="",this.Desc="",this.RotationCfg=new e.RotationConfig,this.Rotation=0}return t}();e.Shape=t,__reflect(t.prototype,"memoriesofpast.Shape",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.SceneName="memoriesofpast.MainScene",e.CurLevelIndex=0,e.DimenId="",e.originalcfg=[],e.currCarousel=0,e.disturbEffect=0,e.inverseRotate=!1,e.currMillisecond=1e3,e.timeouts=[],e.cardIndexArr=[0,1,2],e.printLog=!0,e.gameFrameUrl="https://localhost:8081/",e.skinName="resource/eui_skins/MainScene.exml",e}return __extends(n,t),n.prototype.onComplete=function(){this.countDownTimer=new egret.Timer(1e3,4),this.memoryTimer=new egret.Timer(1e3,3);var t=this.cardIndexArr[0],n=this.cardIndexArr[1],r=this.cardIndexArr[this.cardIndexArr.length-1];this.prevGroup=this.mainArea.getChildAt(t),this.currGroup=this.mainArea.getChildAt(n),this.nextGroup=this.mainArea.getChildAt(r),this.timerGroup.visible=!1,this.initEvent(),this.logicManager=new e.LogicManager(this.printLog),this.resetData();try{window.parent.postMessage({status:"SceneLoadComplete",message:"",data:null},this.gameFrameUrl),console.log("通知外部 "+this.gameFrameUrl+"，场景加载完成")}catch(o){}this.startGame()},n.prototype.onRemoveFromStage=function(e){this.removeEvent(),this.countDownTimer.stop(),this.answerTimer.stop();for(var t=0;t<this.timeouts.length;t++){var n=this.timeouts[t];clearTimeout(n)}egret.Tween.removeTweens(this.imageAnswerFeedback),egret.Tween.removeTweens(this.imageCountDown),egret.Tween.removeTweens(this.mainArea);for(var t=0;t<this.mainArea.numChildren;t++){var r=this.mainArea.getChildAt(t);egret.Tween.removeTweens(r)}},n.prototype.updateData=function(e){this.printLog=e.printLog,this.CurLevelIndex=e.index-1,this.printLog&&console.log("当前等级",this.CurLevelIndex),this.currCfg=e.level,this.currCfg.SingleScore=100/this.currCfg.CarouselCount,this.currAnswerSecond=this.currCfg.AnswerSecond,this.answerTimer=new egret.Timer(20,1e3*this.currCfg.AnswerSecond/20),this.timerSecondLabel.text=this.currAnswerSecond-1+".00"},n.prototype.initView=function(){var e=[];e.push("单次答题正确分值: "+this.currCfg.SingleScore),e.push("关卡最大分值: "+this.currCfg.MaxScore),e.push("启用旋转: "+this.currCfg.EnableStaticRotate),this.printLog&&console.log("%c\n当前关卡游戏配置","color: blue",e.join("，")),this.printLog&&console.log("%c玩家当前等级","color: blue","等级标识："+this.currCfg.LevelIndex+"，等级名称："+this.currCfg.LevelName),this.gamemenu.GameName="过去的记忆",this.gamemenu.Score=0,this.gamemenu.LevelName=this.currCfg.LevelName,this.gamemenu.LevelMaxScore=this.currCfg.MaxScore,this.gamemenu.ProgressText=this.currCarousel+1+"/"+this.currCfg.CarouselCount,this.resetData(),this.operationButtonLock(!0),this.setCurrShapeActive(!1),this.previewArea.visible=!1},n.prototype.startGame=function(){this.initView(),this.countDown()},n.prototype.answerFeedback=function(e){var t=this;this.imageAnswerFeedback.source="ty_"+(e?"duigou":"cuowu")+"_png",egret.Tween.removeTweens(this.imageAnswerFeedback),egret.Tween.get(this.imageAnswerFeedback).to({scaleX:10,scaleY:10,visible:!0},1,egret.Ease.backIn).to({scaleX:1,scaleY:1},100,egret.Ease.quadIn).to({visible:!1},100,egret.Ease.quadIn).call(function(){var n=e?gamebase.SoundEnum.Right:gamebase.SoundEnum.Wrong;gamebase.XGame.SoundMgr.PlayEffect(n),e?(t.printLog&&console.log("%c\n答案验证","color: green","回答正确！分数 +"+t.currCfg.SingleScore+"，当前分数为："+t.gamemenu.Score),t.gamemenu.AddScore(t.currCfg.SingleScore)):t.printLog&&console.log("%c\n答案验证","color: red","回答错误！"),t.currCarousel===t.currCfg.CarouselCount-1?(t.operationButtonLock(!0),t.endGame()):(t.currCarousel++,t.nextQuestion())},this)},n.prototype.nextQuestion=function(){var t=this;this.gamemenu.ProgressText=this.currCarousel+"/"+this.currCfg.CarouselCount,this.inverseRotate=e.common.getIntRandom(0,1)>0,this.printLog&&console.log("干扰效果逆时针旋转",this.inverseRotate),this.generateQuestion(),this.disturbEffect=e.common.getIntRandom(0,2),this.printLog&&console.log("干扰效果(0-静态旋转;1-动态旋转;2-水平翻转)",this.disturbEffect);var n=this.logicManager.Question,r=n.PrevShape,o=n.CurrShape,i=this.previewArea.getChildAt(1).getChildAt(1);i.source=r.Source;var a=this.previewArea.getChildAt(2).getChildAt(1);o||console.error("当前形状为空",this.logicManager.Question),a.source=o.Source,a.rotation=0,a.skewY=0;var s=this.cardIndexArr[this.cardIndexArr.length-1],c=this.mainArea.getChildAt(s),u=this.cardIndexArr[0],l=this.cardIndexArr[this.cardIndexArr.length-1];this.cardIndexArr.shift(),this.cardIndexArr.push(u),u=this.cardIndexArr[0];var h=this.cardIndexArr[1];l=this.cardIndexArr[this.cardIndexArr.length-1],this.prevGroup.x=667,this.prevGroup.y=114,egret.Tween.get(this.currGroup).to({x:-296,y:114},200).call(function(){t.prevGroup=t.mainArea.getChildAt(u);var e=t.currGroup.getChildAt(0);e.source="gqjy_bghuip_png"},this);var p=c.getChildAt(1);p.source=o.Source,p.rotation=0,p.skewY=0,0===this.disturbEffect&&(p.rotation=o.Rotation),egret.Tween.get(this.nextGroup).to({x:186,y:204},250).call(function(){t.currGroup=t.mainArea.getChildAt(h),t.nextGroup=t.mainArea.getChildAt(l);var e=t.currGroup.getChildAt(0);e.source="gqjy_btnliang_png",t.timerGroup.visible=!0,t.currAnswerSecond=t.currCfg.AnswerSecond,t.currMillisecond=1e3,t.answerTimer.reset(),t.answerTimer.start()},this),this.operationButtonLock(!1)},n.prototype.generateQuestion=function(){this.logicManager.updateConfig(this.currCfg),this.logicManager.Question?(this.logicManager.GenerateQuestion(this.currCfg),this.labelQuestion.text="这个图形与之前那个一样吗？"):(this.logicManager.GetFirstShape(),this.setCurrShapeActive(!0),this.labelQuestion.text="请记住当前图形 ("+this.memoryTimer.repeatCount+"s)",this.memoryTimer.reset(),this.memoryTimer.start())},n.prototype.setCurrShape=function(){var e=this.currGroup,t=e.getChildAt(1),n=this.logicManager.Question.CurrShape.Source;n||console.error("形状为空",this.logicManager.Question),t.source=n,e=this.previewArea.getChildAt(2),t=e.getChildAt(1),t.source=n},n.prototype.setCurrShapeActive=function(e){var t=this.currGroup.getChildAt(0);e?t.source="gqjy_btnliang_png":t.source="gqjy_bghuip_png"},n.prototype.onPlayerAnswerTap=function(e){this.operationButtonLock(!0);var t="Yes"===e.target.name,n=this.logicManager.CheckAnswer(t);this.answerFeedback(n)},n.prototype.operationButtonLock=function(e){this.imageYes.touchEnabled=!e,this.imageNo.touchEnabled=!e},n.prototype.resetData=function(){this.logicManager.Question=null;for(var e,t,n=0;n<this.mainArea.$children.length;n++)e=this.mainArea.$children[n],t=e.getChildAt(1),t.source="ss_default_png",t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2;for(var r=this.previewArea.$children.filter(function(e){return e instanceof eui.Group}),n=0;n<r.length;n++)e=r[n],t=e.getChildAt(1),t.source="ss_default_png";this.setCurrShapeActive(!1)},n.prototype.endGame=function(){var e=this;this.gamemenu.ProgressText=this.currCfg.CarouselCount+"/"+this.currCfg.CarouselCount,this.answerTimer.reset(),this.operationButtonLock(!0),this.printLog&&console.log("当前分数为："+this.gamemenu.Score),gamebase.XGame.SoundMgr.PlayEffect(gamebase.SoundEnum.OpenScene),egret.Tween.get(this.rect_mask).to({width:this.stage.stageWidth},200).wait(2e3).call(function(){e.rect_mask.width=0,gamebase.XGame.SceneMgr.ToScene(new gamebase.ResultScene,{score:e.gamemenu.Score});try{window.parent.postMessage({status:"GameOver",message:"Success",data:{score:e.gamemenu.Score}},e.gameFrameUrl),console.log("通知外部 "+e.gameFrameUrl+"，游戏结束")}catch(t){}},this)},n.prototype.closeGame=function(){gamebase.XGame.SceneMgr.CloseScene(this),gamebase.XGame.EventMgr.dispatchEventWith(gamebase.EventEnum.UI_BacktoHall,!0,{dimenid:this.DimenId},!1),RES.destroyRes("memoriesofpast",!0)},n.prototype.LevelGoon=function(e){1==e.data.ispass,this.startGame()},n.prototype.countDown=function(){this.printLog&&console.log(""),this.labelQuestion.text="请准备！",this.countDownTimer.reset(),this.countDownTimer.start()},n.prototype.onTimer_CountDown=function(){var e=this.countDownTimer,t=e.currentCount,n=e.repeatCount,r=n-t;r>0&&(this.printLog&&console.log("%c准备时间倒计时","color: blue","还剩 "+r+" 秒"),this.imageCountDown.source="jp_sz"+r+"_png",egret.Tween.get(this.imageCountDown).to({scaleX:5,scaleY:5,visible:!0},1,egret.Ease.backIn).to({scaleX:1,scaleY:1},200,egret.Ease.quadIn).to({visible:!1},100,egret.Ease.quadIn).call(function(){gamebase.XGame.SoundMgr.PlayEffect(gamebase.SoundEnum.Timer)},this))},n.prototype.onTimerComplete_CountDown=function(){this.printLog&&console.log("%c\n准备时间结束","color: blue","游戏开始"),this.imageCountDown.visible=!1,this.generateQuestion(),this.setCurrShape();try{window.parent.postMessage({status:"GameBegin",message:"",data:null},this.gameFrameUrl),console.log("通知外部 "+this.gameFrameUrl+"，游戏开始")}catch(e){}},n.prototype.onTimer_Memory=function(){this.labelQuestion.text="请记住当前图形 ("+(this.memoryTimer.repeatCount-this.memoryTimer.currentCount)+"s)"},n.prototype.onTimerComplete_Memory=function(){this.labelQuestion.text="这个图形与之前那个一样吗？",this.nextQuestion()},n.prototype.onTimer_Answer=function(){var e=this.cardIndexArr[1],t=this.mainArea.getChildAt(e),n=t.getChildAt(1);1===this.disturbEffect?n.rotation+=this.inverseRotate?-5:5:2===this.disturbEffect&&(n.skewY+=this.inverseRotate?-5:5),this.currMillisecond<=0?(this.currAnswerSecond-=1,this.currAnswerSecond>0&&(this.currMillisecond=1e3)):this.currMillisecond-=20;var r=this.currAnswerSecond-1+"."+(this.currMillisecond/10+"").padStart(2,"0");this.timerSecondLabel.text=r},n.prototype.onTimerComplete_Answer=function(){this.currAnswerSecond=0,this.currMillisecond=0;var e="0.00";this.timerSecondLabel.text=e,this.currCarousel===this.currCfg.CarouselCount-1?(this.operationButtonLock(!0),this.endGame()):(this.printLog&&console.log("切换到下一题"),this.nextQuestion())},n.prototype.initEvent=function(){gamebase.XGame.EventMgr.addEventListener(gamebase.EventEnum.UI_GameGoon,this.LevelGoon,this),gamebase.XGame.EventMgr.addEventListener(gamebase.EventEnum.UI_CloseGame,this.closeGame,this),this.countDownTimer.addEventListener(egret.TimerEvent.TIMER,this.onTimer_CountDown,this),this.countDownTimer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerComplete_CountDown,this),this.memoryTimer.addEventListener(egret.TimerEvent.TIMER,this.onTimer_Memory,this),this.memoryTimer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerComplete_Memory,this),this.answerTimer&&this.answerTimer.addEventListener(egret.TimerEvent.TIMER,this.onTimer_Answer,this),this.answerTimer&&this.answerTimer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerComplete_Answer,this),this.imageYes.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPlayerAnswerTap,this),this.imageNo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPlayerAnswerTap,this)},n.prototype.removeEvent=function(){gamebase.XGame.EventMgr.removeEventListener(gamebase.EventEnum.UI_GameGoon,this.LevelGoon,this),gamebase.XGame.EventMgr.removeEventListener(gamebase.EventEnum.UI_CloseGame,this.closeGame,this),this.countDownTimer.removeEventListener(egret.TimerEvent.TIMER,this.onTimer_CountDown,this),this.countDownTimer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerComplete_CountDown,this),this.memoryTimer.removeEventListener(egret.TimerEvent.TIMER,this.onTimer_Memory,this),this.memoryTimer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerComplete_Memory,this),this.answerTimer.removeEventListener(egret.TimerEvent.TIMER,this.onTimer_Answer,this),this.answerTimer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerComplete_Answer,this),this.imageYes.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onPlayerAnswerTap,this),this.imageNo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onPlayerAnswerTap,this)},n}(gamebase.Scene);e.MainScene=t,__reflect(t.prototype,"memoriesofpast.MainScene",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.SceneName="memoriesofpast.StartScene",e.originalcfg=[],e.cfg=new Array,e.printLog=!1,e.openHelp=!1,e.skinName="resource/eui_skins/StartScene.exml",e}return __extends(n,t),n.prototype.onComplete=function(){this.printLog=!1,this.initBtns(),this.initEvent(),this.openHelp&&this.onImageHelpTap(null)},n.prototype.initBtns=function(){this.gp_btns.removeChildren();var e=RES.getRes("memoriesofpast.level_json");this.printLog&&console.log("%c关卡数据","color: black",e),this.originalcfg=e,this.cfg=this.GetGameConfig(),this.printLog&&console.log("%c\n游戏配置关卡配置","color: black",this.cfg);for(var t=0;t<e.length;t++){var n=e[t],r=new eui.Image("jdt1_png");r.horizontalCenter=0,r.verticalCenter=0,r.width=297,r.height=60;var o=new eui.Label(n.levelname);o.size=30,o.textAlign="center",o.verticalAlign="bottom",o.verticalCenter=0,o.left=20,o.textColor=16777215;var i=new eui.Group;i.verticalCenter=0,i.left=80,i.layout=new eui.HorizontalLayout;for(var a=0;t+1>a;a++){var s=new eui.Image("nli_xx_quan_png");s.horizontalCenter=0,s.verticalCenter=0,s.width=20,s.height=20,i.addChild(s)}var c=new eui.Group;c.name=""+t,c.touchEnabled=!0,c.touchChildren=!1,c.percentWidth=100,c.addChild(r),c.addChild(o),c.addChild(i),c.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnTap,this),this.gp_btns.addChild(c)}},n.prototype.onBtnTap=function(t){var n=t.target,r=parseInt(n.name);gamebase.XGame.SceneMgr.ToScene(new e.MainScene,{index:r,level:this.cfg[r],printLog:this.printLog})},n.prototype.onRemoveFromStage=function(e){this.removeEvent()},n.prototype.updateData=function(e){this.openHelp=e.help},n.prototype.onImageHelpTap=function(e){gamebase.XGame.SceneMgr.openUniqueScene(new gamebase.GameHelp(11),{printLog:this.printLog})},n.prototype.GetGameConfig=function(){var t=[];this.printLog&&console.log("%c原始关卡配置","color: black",this.originalcfg);for(var n=0;n<this.originalcfg.length;n++){var r=new e.Level;r.LevelIndex=n,r.LevelName=this.originalcfg[n].levelname;var o=this.originalcfg[n],i=o.totalscore,a=o.specialobstacles,s=o.carouselcount,c=o.answersecond;r.MaxScore=i;var u=String(a).split("|"),l=String(u[0]).split("-");r.EnableStaticRotate=1==parseInt(l[0]),r.EnableDynamicRotate=1==parseInt(l[1]),r.EnableFlipHorizontal=1==parseInt(l[2]),r.CarouselCount=s,r.AnswerSecond=c,t.push(r)}return t},n.prototype.initEvent=function(){this.img_help.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onImageHelpTap,this)},n.prototype.removeEvent=function(){this.img_help.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onImageHelpTap,this)},n}(gamebase.Scene);e.StartScene=t,__reflect(t.prototype,"memoriesofpast.StartScene",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(){function t(){}return t.IndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},t.FirstOrDefault=function(e,t){var n,r=0;switch(typeof t){case"number":n=0;break;case"string":n="";break;default:n=null}return r=e.findIndex(function(e){return e===t}),r>-1&&(n=e[r]),n},t.Remove=function(e,t){var n=this.IndexOf(e,t);n>-1&&e.splice(n,1)},t.GetRandomElement=function(t){var n=e.common.getIntRandom(0,t.length-1);return t[n]},t.GetRandomArrayElements=function(e,t){for(var n,r,o=e.slice(0),i=e.length,a=i-t;i-->a;)r=Math.floor((i+1)*Math.random()),n=o[r],o[r]=o[i],o[i]=n;return o.slice(a)},t.Split=function(e,t){for(var n=0,r=[];n<e.length;)r.push(e.slice(n,n+=t));return r},t}();e.ArrayHelper=t,__reflect(t.prototype,"memoriesofpast.ArrayHelper",[])}(n||(n={})),window.memoriesofpast=n},function(e,t){var n,n=window.memoriesofpast;!function(e){var t=function(){function e(){}return e.getIntRandom=function(e,t){return parseInt(gamebase.Random.range(e,t+.99).toString())},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.deepClone=function(e){if([null,void 0,0/0,!1].includes(e))return e;if("object"!=typeof e&&"function"!=typeof e)return e;var t=this.isArray(e)?[]:{};for(var n in e)e.hasOwnProperty(n)&&(t[n]="object"==typeof e[n]?this.deepClone(e[n]):e[n]);return t},e.random=function(e,t){if(e>=0&&t>0&&t>=e){var n=t-e+1;return Math.floor(Math.random()*n+e)}return 0},e.randomArray=function(e){return void 0===e&&(e=[]),e.sort(function(){return Math.random()-.5})},e.parseRMB=function(e){var t=Math.floor(parseFloat((100*e).toString()))/100;return t=Number(t.toFixed(1))},e.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}).toUpperCase()},e}();e.common=t,__reflect(t.prototype,"memoriesofpast.common",[])}(n||(n={})),window.memoriesofpast=n}]);